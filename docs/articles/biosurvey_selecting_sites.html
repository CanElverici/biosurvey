<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>biosurvey: Selecting sampling sites • biosurvey</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="biosurvey: Selecting sampling sites">
<meta property="og:description" content="biosurvey">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">biosurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/biosurvey_preparing_data.html">biosurvey: Preparing data</a>
    </li>
    <li>
      <a href="../articles/biosurvey_selecting_sites.html">biosurvey: Selecting sampling sites</a>
    </li>
    <li>
      <a href="../articles/biosurvey_selection_with_preselected_sites.html">biosurvey: Selecting sampling sites using preselected points</a>
    </li>
    <li>
      <a href="../articles/biosurvey_testing_module.html">biosurvey: Testing efficiency of selected sites</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/claununez/biosurvey/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="biosurvey_selecting_sites_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>biosurvey: Selecting sampling sites</h1>
                        <h4 class="author">Claudia Nunez-Penichet, Marlon E. Cobos, Jorge Soberon, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Siguenza, A. Townsend Peterson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/claununez/biosurvey/blob/master/vignettes/biosurvey_selecting_sites.Rmd"><code>vignettes/biosurvey_selecting_sites.Rmd</code></a></small>
      <div class="hidden name"><code>biosurvey_selecting_sites.Rmd</code></div>

    </div>

    
    
<div id="data-for-analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#data-for-analysis" class="anchor"></a>Data for analysis</h4>
<p>Let’s first prepare the data to continue with further processes.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"m_matrix"</span>, package <span class="op">=</span> <span class="st">"biosurvey"</span><span class="op">)</span>
<span class="co"># Creating blocks</span>
<span class="va">m_blocks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_blocks.html">make_blocks</a></span><span class="op">(</span><span class="va">m_matrix</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>,
                       variable_2 <span class="op">=</span> <span class="st">"PC2"</span>, n_cols <span class="op">=</span> <span class="fl">20</span>, n_rows <span class="op">=</span> <span class="fl">20</span>,
                       block_type <span class="op">=</span> <span class="st">"equal_area"</span><span class="op">)</span></code></pre></div>
<p><br></p>
</div>
<div id="selection-of-sites-considering-environmental-uniformity-and-geographic-patterns" class="section level4">
<h4 class="hasAnchor">
<a href="#selection-of-sites-considering-environmental-uniformity-and-geographic-patterns" class="anchor"></a>Selection of sites considering environmental uniformity and geographic patterns</h4>
<p>The goal of this type of selection is maximizing uniformity of points in environmental space, but considering geographic patterns of data. Similar environments (form the same block) that have a disjoint geographic pattern (are represented in geographic in various clusters) are selected twice (so they consider the biggest geographic clusters).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Selecting sites uniformly in E and G spaces</span>
<span class="va">EG_sel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/EG_selection.html">EG_selection</a></span><span class="op">(</span>master <span class="op">=</span> <span class="va">m_blocks</span>, n_blocks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span>
<span class="co">#&gt; 'use_preselected_sites' = FALSE</span>
<span class="co">#&gt; Preparing data for analysis</span>
<span class="co">#&gt; Selecting relevant environmental blocks, please wait...</span>
<span class="co">#&gt; Running algorithm for selecting sites, please wait...</span>
<span class="co">#&gt;     Process 1 of 10</span>
<span class="co">#&gt;     Process 2 of 10</span>
<span class="co">#&gt;     Process 3 of 10</span>
<span class="co">#&gt;     Process 4 of 10</span>
<span class="co">#&gt;     Process 5 of 10</span>
<span class="co">#&gt;     Process 6 of 10</span>
<span class="co">#&gt;     Process 7 of 10</span>
<span class="co">#&gt;     Process 8 of 10</span>
<span class="co">#&gt;     Process 9 of 10</span>
<span class="co">#&gt;     Process 10 of 10</span>
<span class="co">#&gt; Total number of sites selected: 15</span></code></pre></div>
<p><br></p>
<p>Now let’s check the results of this selection in environmental and geographic spaces.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plotting sites selected considering EG</span>
<span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_sel</span>, selection_type <span class="op">=</span> <span class="st">"EG"</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/V2_f1.png" width="288"></p>
<p><br></p>
<p>As you may have noticed, there are more points than what you defined in the argument <em>n_blocks</em> in the function <code>EG_selection</code>. This is because the function explores those environmental blocks in geographic space and defines two points when the geographic pattern of such points is clustered.</p>
<p><br></p>
</div>
<div id="selecting-sites-randomly" class="section level4">
<h4 class="hasAnchor">
<a href="#selecting-sites-randomly" class="anchor"></a>Selecting sites randomly</h4>
<p>Selecting survey sites randomly is one of the multiple ways to select places to sample. Although it can be useful for avoiding some biases in the selection, it is not recommended when trying to sample most of the biodiversity in a region. The following lines of code will allow users to select survey sites based on a random selection of available points. This selection approach does not consider geographic or environmental configurations.</p>
<p><strong>Note</strong>: We are going to use the object that resulted from the previous process of selection (a <strong>master_selection</strong> object) as it allows to add other sets of selected sites to maintain your results organized.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Selecting sites randomly</span>
<span class="va">EG_r_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/random_selection.html">random_selection</a></span><span class="op">(</span><span class="va">EG_sel</span>, n_sites <span class="op">=</span> <span class="fl">15</span>, n_samplings <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span>
<span class="co">#&gt; 'use_preselected_sites' = FALSE</span>
<span class="co">#&gt; Selecting sampling sites randomly</span>
<span class="co">#&gt; Total number of sites selected: 15</span></code></pre></div>
<p><br></p>
<p>Checking the sites selected randomly. Note that for selections of type “random” or “G” the arguments “variable_1” and “variable_2” need to be defined in the plotting function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plotting selected sites</span>
<span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, selection_type <span class="op">=</span> <span class="st">"random"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, 
              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/V2_f2.png" width="288"></p>
<p><br></p>
</div>
<div id="selection-of-sites-aiming-for-uniformity-in-geographic-space" class="section level4">
<h4 class="hasAnchor">
<a href="#selection-of-sites-aiming-for-uniformity-in-geographic-space" class="anchor"></a>Selection of sites aiming for uniformity in geographic space</h4>
<p>With the following lines of code, survey sites can be selected so they are located uniformly in geographic space, without considering environmental conditions. This allows sampling most of the areas in the region of interest.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Selecting sites uniformly in G space</span>
<span class="va">EG_r_G_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformG_selection.html">uniformG_selection</a></span><span class="op">(</span><span class="va">EG_r_selection</span>, expected_points <span class="op">=</span> <span class="fl">15</span>, 
                                       max_n_samplings <span class="op">=</span> <span class="fl">1</span>, replicates <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span>
<span class="co">#&gt; 'use_preselected_sites' = FALSE</span>
<span class="co">#&gt; Running algorithm for selecting sites, please wait...</span>
<span class="co">#&gt;     Distance  242.166565850223  resulted in  17  points</span>
<span class="co">#&gt;     Distance  266.383222435246  resulted in  13  points</span>
<span class="co">#&gt;     Distance  242.166565850223  resulted in  17  points</span>
<span class="co">#&gt;     Distance  244.588231508726  resulted in  17  points</span>
<span class="co">#&gt;     Distance  247.009897167228  resulted in  16  points</span>
<span class="co">#&gt;     Distance  249.43156282573  resulted in  16  points</span>
<span class="co">#&gt;     Distance  251.853228484232  resulted in  15  points</span>
<span class="co">#&gt; Total number of sites selected: 15</span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on geographic considerations.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plotting sites selected uniformly in the geographic space</span>
<span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, selection_type <span class="op">=</span> <span class="st">"G"</span>, variable_1 <span class="op">=</span> <span class="st">"PC1"</span>, 
              variable_2 <span class="op">=</span> <span class="st">"PC2"</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/V2_f3.png" width="288"></p>
<p><br></p>
</div>
<div id="selecting-sites-aiming-for-uniformity-in-environmental-space" class="section level4">
<h4 class="hasAnchor">
<a href="#selecting-sites-aiming-for-uniformity-in-environmental-space" class="anchor"></a>Selecting sites aiming for uniformity in environmental space</h4>
<p>With the following lines of code you can select sampling sites that are uniformly distributed in environmental space. This will allow sampling most of the environmental conditions that are present in the region of interest.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Selecting sites uniformly in E space</span>
<span class="va">EG_r_G_E_selection</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniformE_selection.html">uniformE_selection</a></span><span class="op">(</span><span class="va">EG_r_G_selection</span>, expected_points <span class="op">=</span> <span class="fl">15</span>, 
                                         max_n_samplings <span class="op">=</span> <span class="fl">1</span>, replicates <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; Element 'preselected_sites' in 'master' is NULL, setting</span>
<span class="co">#&gt; 'use_preselected_sites' = FALSE</span>
<span class="co">#&gt; Running algorithm for selecting sites, please wait...</span>
<span class="co">#&gt;     Distance  0.985888853481237  resulted in  25  points</span>
<span class="co">#&gt;     Distance  1.08447773882936  resulted in  20  points</span>
<span class="co">#&gt;     Distance  1.18306662417748  resulted in  17  points</span>
<span class="co">#&gt;     Distance  1.28165550952561  resulted in  14  points</span>
<span class="co">#&gt;     Distance  1.18306662417748  resulted in  17  points</span>
<span class="co">#&gt;     Distance  1.1929255127123  resulted in  17  points</span>
<span class="co">#&gt;     Distance  1.20278440124711  resulted in  16  points</span>
<span class="co">#&gt;     Distance  1.21264328978192  resulted in  15  points</span>
<span class="co">#&gt; Total number of sites selected: 15</span></code></pre></div>
<p><br></p>
<p>Let’s check the selected sites based only on environmental considerations.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plotting sites selected uniformly in the environmental space</span>
<span class="fu"><a href="../reference/plot_sites_EG.html">plot_sites_EG</a></span><span class="op">(</span><span class="va">EG_r_G_E_selection</span>, selection_type <span class="op">=</span> <span class="st">"E"</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/V2_f4.png" width="288"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Claudia Nuñez-Penichet, Marlon E. Cobos, Jorge Soberón, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Sigüenza, A. Townsend Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>

<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a data.frame of species' references from files in a directory — files_2data • biosurvey</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Creates a data.frame of species' references from files in a directory — files_2data" />
<meta property="og:description" content="Creates a data.frame of species' references that contains
longitude, latitude, and species name, from a character." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">biosurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/biosurvey_preparing_data.html">biosurvey: Preparing data</a>
    </li>
    <li>
      <a href="../articles/biosurvey_selecting_sites.html">biosurvey: Selecting sampling sites</a>
    </li>
    <li>
      <a href="../articles/biosurvey_selection_with_preselected_sites.html">biosurvey: Selecting sampling sites using preselected points</a>
    </li>
    <li>
      <a href="../articles/biosurvey_testing_module.html">biosurvey: Testing efficiency of selected sites</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/claununez/biosurvey/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a data.frame of species' references from files in a directory</h1>
    <small class="dont-index">Source: <a href='https://github.com/claununez/biosurvey/blob/master/R/pam_helpers.R'><code>R/pam_helpers.R</code></a></small>
    <div class="hidden name"><code>files_2data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a data.frame of species' references that contains
longitude, latitude, and species name, from a character.</p>
    </div>

    <pre class="usage"><span class='fu'>files_2data</span><span class='op'>(</span><span class='va'>path</span>, <span class='va'>format</span>, spdf_grid <span class='op'>=</span> <span class='cn'>NULL</span>, parallel <span class='op'>=</span> <span class='cn'>FALSE</span>, n_cores <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>(character) full path name of directory containing raster,
shapefiles, geopackage, or GeoJSON files representing species geographic
ranges. Each file must be named as the species that it represents. All files
must be in the same format. If files are raster, values in each layer must be
1 (presence) and 0 (absence).</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>(character) the format files found in <code>path</code>. Current
available formats are: "shp", "gpkg", "geojson", "GTiff", and "ascii".</p></td>
    </tr>
    <tr>
      <th>spdf_grid</th>
      <td><p>geographic grid for the region of interest (output of
function <code><a href='grid_from_region.html'>grid_from_region</a></code>). Used when format equals "shp" or
"gpkg". Default = NULL.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>(logical) whether to perform analyses in parallel.
Default = FALSE.</p></td>
    </tr>
    <tr>
      <th>n_cores</th>
      <td><p>(numeric) number of cores to be used when <code>parallel</code> =
TRUE. The default, NULL, uses available cores - 1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If files are in raster format, a data.frame of species geographic records
derived from values of presence in each layer.</p>
<p>If files are not in raster format, a data.frame of species' found in distinct
positions (defined with identifiers); includes two columns: "ID" and
"Species".</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Data for examples</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"mx"</span>, package <span class='op'>=</span> <span class='st'>"biosurvey"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"species_data"</span>, package <span class='op'>=</span> <span class='st'>"biosurvey"</span><span class='op'>)</span>

<span class='co'># Saving species data in a temporal directory</span>
<span class='va'>tdir</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"testbio"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='op'>(</span><span class='va'>tdir</span><span class='op'>)</span>

<span class='va'>namessp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"species_"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>species_data</span><span class='op'>)</span><span class='op'>)</span>


<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>species_data</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>rgdal</span><span class='fu'>::</span><span class='fu'><a href='http://rgdal.r-forge.r-project.org/reference/writeOGR.html'>writeOGR</a></span><span class='op'>(</span><span class='va'>species_data</span><span class='op'>[</span><span class='va'>i</span>, <span class='op'>]</span>, dsn <span class='op'>=</span> <span class='va'>tdir</span>, layer <span class='op'>=</span> <span class='va'>namessp</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>,
                  driver <span class='op'>=</span> <span class='st'>"ESRI Shapefile"</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Preparing grid for analysis</span>
<span class='va'>grid_reg</span> <span class='op'>&lt;-</span> <span class='fu'><a href='grid_from_region.html'>grid_from_region</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='va'>mx</span>, cell_size <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'>
<span class='co'># Running analysis with data from directory</span>
<span class='va'>sp_data</span> <span class='op'>&lt;-</span> <span class='fu'>files_2data</span><span class='op'>(</span>path <span class='op'>=</span> <span class='va'>tdir</span>, format <span class='op'>=</span> <span class='st'>"shp"</span>, spdf_grid <span class='op'>=</span> <span class='va'>grid_reg</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |===                                                                   |   4%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |======                                                                |   8%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=========                                                             |  12%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |============                                                          |  17%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |===============                                                       |  21%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |==================                                                    |  25%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |====================                                                  |  29%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=======================                                               |  33%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |==========================                                            |  38%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=============================                                         |  42%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |================================                                      |  46%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |===================================                                   |  50%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |======================================                                |  54%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=========================================                             |  58%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |============================================                          |  62%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |===============================================                       |  67%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |==================================================                    |  71%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |====================================================                  |  75%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=======================================================               |  79%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |==========================================================            |  83%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |=============================================================         |  88%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |================================================================      |  92%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |===================================================================   |  96%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt;   |                                                                              |======================================================================| 100%</div><div class='output co'>#&gt; <span class='warning'>Warning: spgeom1 and spgeom2 have different proj4 strings</span></div><div class='output co'>#&gt; </div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Claudia Nuñez-Penichet, Marlon E. Cobos, Jorge Soberón, Tomer Gueta, Narayani Barve, Vijay Barve, Adolfo G. Navarro-Sigüenza, A. Townsend Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


